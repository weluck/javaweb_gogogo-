HTML5 WebSocket
WebSocket 是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议。

WebSocket 使得客户端和服务器之间的数据交换变得更加简单，允许服务端主动向客户端推送数据。在 WebSocket API 中，浏览器和服务器只需要完成一次握手，两者之间就直接可以创建持久性的连接，并进行双向数据传输。

在 WebSocket API 中，浏览器和服务器只需要做一个握手的动作，然后，浏览器和服务器之间就形成了一条快速通道。两者之间就直接可以数据互相传送。

现在，很多网站为了实现推送技术，所用的技术都是 Ajax 轮询。轮询是在特定的的时间间隔（如每1秒），由浏览器对服务器发出HTTP请求，然后由服务器返回最新的数据给客户端的浏览器。这种传统的模式带来很明显的缺点，即浏览器需要不断的向服务器发出请求，然而HTTP请求可能包含较长的头部，其中真正有效的数据可能只是很小的一部分，显然这样会浪费很多的带宽等资源。

HTML5 定义的 WebSocket 协议，能更好的节省服务器资源和带宽，并且能够更实时地进行通讯。
AJAX轮询
```
	 A:你有我的消息吗                           14:00:00
	 服务器:没有                                     14:00:00
	 A：你有我的消息吗						 14:00:01
	 服务器:没有									 14:00:01
	 A：你有我的消息吗                         14:00:02
	 服务器:有了，消息为HELLO           14:00:02
	 C:你有我的消息吗		                     14:00:03
	 服务器:.....我炸 ERROR					 14:00:03
```
websocket
```
	A:我们握手吧                                    14:00:00
   	服务器:好的，建立连接成功，有消息我会通知你的         14:00:01
   	服务器:B给你发消息了，消息为
   				"HELLO!"                             15:00:00
``` 
从以上两个例子可以看出，WEBSOCKET在执行效率，已经空间利用率等方面都完爆AJAX轮询，当然曾经还有用长轮询等来实现即时通讯，当然这里我就不详细说明了。从以上WEBSOCKET的例子想必你也大概了解了WEBSOCKET的运行模式，当然这并不全面，大家可以通过源码进行底层分析。
