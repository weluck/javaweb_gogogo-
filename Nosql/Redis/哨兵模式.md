# 哨兵模式

主从切换技术的方法是:当主服务器宕机后,需要手动把一台从服务器切换为主服务器,这就需要人工干预,费事费力,还会造成一段时间内服务不可用。这不是一种推荐的方式,更多时候,我们优先考虑哨兵模式。Redis从2.8开始正式提供了Sentinel (哨兵)架构来解决这个问题。

谋朝篡位的自动版,能够后台监控主机是否故障, 如果故障了根据投票数自动将从库转换为主库。

哨兵模式是一种特殊的模式,首先Redis提供了哨兵的命令, 哨兵是一个独立的进程 ,作为进程,它会独立运行。其原理是**哨兵通过发送命令,等待Redis服务器响应.从而监控运行的多个Redis实例**。

● 通过发送命令,让Redis服务器返回监控其运行状态,包括主服务器和从服务器。

● 当哨兵监测到master宕机，会自动将slave切换成master ,然后通过发布订阅模式通知其他的从服务器，修改配置文件,让它
们切换主机。
